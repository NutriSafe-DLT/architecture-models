# The NutriSafe Architecture

### Business Architecture
<figure>
  <img src="./pictures/stakeholder_maps.png"
     width="1000"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;"/>
  <figcaption>
  Fig. X: General Stakeholder Map (left)

  Fig. Y: Stakeholder Map for the supply chain case (right)
  </figcaption>
</figure>
<p align="justify">
The community uses a stakeholder map shown in Fig. X and the NutriSafe infrastructure as the central element of the design. The community comprises many actors typical for any food supply chain and actors specific for the scenario of soft cheese production, namely dairy and milk truck. <br>
The supply chain depicted in Fig. Y starts with the milk farm. The milk farm hands over the fresh milk to a milk truck, which transports milk to the dairy and takes a sample for quality checks. The dairy processes fresh milk to produce, e.g., soft cheese transported by a logistics service provider to a retailer. The end customer buys the product, the soft cheese, at a grocery store. We assume that all actors use the blockchain to share information concerning production and logistics. A core user story is the creation of traceable product history. The product history is, e.g., providing information to the end-customer or for efficient tracking and tracing in a food safety issue.
</p>

### Architecture Layers


<img src="./pictures/actors_IS_DLT.png"
     width="1000"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 

<img src="./pictures/architecture_interface_layers.png"
     display= "block"
     width="50%"
     margin-left= "auto"
     margin-right= "auto"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 

Reference to ICBC paper

### Channel Topology

<img src="./pictures/channel_topology.png"
     width="1000"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 


### APIs

#### REST API

<img src="./pictures/rest_api_component_model.png"
     width="500"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 

#### MQTT API

<img src="./pictures/mqtt_api.png"
     width="500"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 

Reference to I4CS paper
     

### The Meta Model

### Blockchain Operations Framework

#### Blockchain Operations Categories

<img src="./pictures/blockchain_operations_categories.png"
     width="500"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 

Reference to DAPPS paper

<img src="./pictures/onboarding_a_new_org.png"
     width="1000"
     alt="Markdown Monster icon"
     style="float: left; margin-right: 10px;" /> 

Reference to DAPPS paper

#### Script Environment


